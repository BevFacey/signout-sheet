<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Student Break Timer</title>
    <style>
      body {font-family: Arial, sans-serif; background-color: white;}
      button {background-color: white; border: none; padding: 10px; margin: 5px; cursor: pointer;}
    </style>
  </head>
  <body>
    <h1>Student Break Timer</h1>
    <div id="display" style="font-size: 24px;">00:00</div>


    <script>
        const number_of_columns = 4;
        const students = ["Student1", "Student2", "Student3", "Student4"];
        const periods = [1, 2, 3, 4];
        const colors = ["#43B0F1", "#059DC0", "#1E3D58", "#057DCD"];

        let seconds = 0;
        let minutes = 0;
        let running = false;
        let activeButton = null;
      
        function formatTime(time) {
            return time < 10 ? `0${time}` : `${time}`;
        }

        function updateTime() {
            if (running) {
            seconds += 1;
            if (seconds === 60) {
                seconds = 0;
                minutes += 1;
            }
            const timeString = `${formatTime(minutes)}:${formatTime(seconds)}`;
            display.textContent = timeString;
            setTimeout(updateTime, 1000);
            }
        }

        function clickButton(button) {
            if (seconds || minutes) {
            const logThis = `${button.textContent},${minutes * 60 + seconds},${new Date().toISOString()}`;
            saveToLocalStorage(logThis);
            }
            seconds = 0;
            minutes = 0;
            display.textContent = "00:00";
            if (!running) {
            running = true;
            activeButton = button;
            buttons.forEach((otherButton) => {
                if (otherButton !== button) {
                otherButton.disabled = true;
                }
            });
            updateTime();
            } else {
            running = false;
            activeButton = null;
            buttons.forEach((otherButton) => {
                otherButton.disabled = false;
            });
            }
        }

        function saveToLocalStorage(data) {
            const logs = JSON.parse(localStorage.getItem('signout-logs')) || [];
            logs.push(data);
            localStorage.setItem('signout-logs', JSON.stringify(logs));
        }

        //const root = document.createElement("div");
        //root.innerHTML = "<h1>Student Break Timer</h1>";
        //document.body.appendChild(root);

        //const display = document.createElement("div");
        //display.id = "display";
        //display.style.fontSize = "24px";
        //display.textContent = "00:00";
        //root.appendChild(display);

        const buttons = [];
        for (let i = 0; i < students.length; i++) {
            const row = Math.floor(i / number_of_columns) + 1;
            const col = i % number_of_columns;
            const button = document.createElement("button");
            button.textContent = students[i];
            button.style.color = colors[periods[i] - 1];
            button.addEventListener("click", () => clickButton(button));
            root.appendChild(button);
            buttons.push(button);
        }
        </script>
  </body>
</html>